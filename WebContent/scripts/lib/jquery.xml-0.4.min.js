/*! jQuery XML Plugin v0.4 | (c) 2011, 2013 Jan Grassegger | http://jquery.org/license */(function(b,h,g){b.fn.xml=function(c){var d=b(this);if(!b.xml._settings()){var a={xml:"/xml/template.xml",async:!1,tagName:"template",error:function(a){console.log(a)}};c&&b.extend(a,c);null===a.target&&console.error("no target given");c=null;!1==a.async&&(c=b.xml.loadXml(a.xml));b.xml._settings({target:d,$xmlDoc:c,settings:a})}return this};b.xml={_settings:function(c){if(c)b(g).data("jquery.xml",c);else return b(g).data("jquery.xml")},append:function(c,d){c||(c="home");var a=b.xml._settings();$el=
a.target;$xmlDoc=a.$xmlDoc;tagName=a.settings.tagName;!0===a.settings.async&&($xmlDoc=b.xml.loadXml(settings.xml));var f=$xmlDoc.find(tagName+"#"+c).first();if(0==f.length){var e=b.Event("error",{type:404});if(!a.settings.error.apply(a.target,[e]))return}if(e=f.attr("access"))if(e=b.Event("error",{type:403,access:e}),!a.settings.error.apply(a.target,[e]))return;a=f.clone().contents();a=b("<div/>").append(a);a.find("br").replaceWith("<br/>");$el.append(a.html());d&&d.apply($el)},loadXml:function(c){var d=
null;b.ajax({url:c,dataType:b.browser.msie?"text":"xml",async:!1,success:function(a){d="string"==typeof a?b("<div/>").html(a).html():a},error:function(a){console.error(a.responseText)}});return $xmlDoc=b(d)}}})(jQuery,window,document);
